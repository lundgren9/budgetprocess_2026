<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Budgetprocess Simrishamn 2027‚Äì2031</title>
    <style>
        /* === GRUNDL√ÑGGANDE STYLING === */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        /* === CONTAINER === */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        /* === HEADER === */
        header {
            background: linear-gradient(135deg, #004d40 0%, #00695c 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
        }

        header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 600;
        }

        header p {
            font-size: 1.1em;
            opacity: 0.95;
            margin-top: 10px;
        }

        /* Teknisk info-knapp i headern */
        .tech-info-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid white;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }

        .tech-info-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        /* === HUVUDINNEH√ÖLL === */
        .content {
            padding: 40px 30px;
        }

        .intro {
            background: #e8f5e9;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #00695c;
        }

        .intro p {
            font-size: 1.05em;
            color: #2e7d32;
        }

        /* === PDF-SEKTION === */
        .pdf-section {
            background: #fff3e0;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #ff9800;
        }

        .pdf-section h2 {
            color: #e65100;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .pdf-section p {
            color: #6d4c00;
            margin-bottom: 15px;
            line-height: 1.7;
        }

        .pdf-link {
            display: inline-flex;
            align-items: center;
            background: #ff9800;
            color: white;
            padding: 12px 24px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .pdf-link:hover {
            background: #f57c00;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .pdf-link::before {
            content: "üìÑ";
            margin-right: 8px;
            font-size: 1.2em;
        }

        /* === KALENDERSEKTION === */
        .calendar-section {
            margin-bottom: 40px;
        }

        .calendar-card {
            background: #f5f5f5;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 20px;
            border: 2px solid #e0e0e0;
            transition: all 0.3s ease;
        }

        .calendar-card:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border-color: #00695c;
        }

        .calendar-card h3 {
            color: #004d40;
            margin-bottom: 15px;
            font-size: 1.4em;
            display: flex;
            align-items: center;
        }

        .calendar-card h3::before {
            content: "üìÖ";
            margin-right: 10px;
            font-size: 1.2em;
        }

        .calendar-card p {
            color: #555;
            margin-bottom: 20px;
            line-height: 1.7;
        }

        /* Varningsmeddelande */
        .warning-note {
            background: #ffebee;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 15px;
            border-left: 4px solid #e53935;
            font-size: 0.9em;
        }

        .warning-note strong {
            color: #c62828;
        }

        .warning-note p {
            color: #b71c1c;
            margin: 0;
        }

        /* === KNAPPAR === */
        .button-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            padding: 12px 24px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95em;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }

        .btn-download {
            background: #00695c;
            color: white;
        }

        .btn-download:hover {
            background: #004d40;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .btn-subscribe {
            background: #0288d1;
            color: white;
        }

        .btn-subscribe:hover {
            background: #0277bd;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .btn-view-code {
            background: #7b1fa2;
            color: white;
        }

        .btn-view-code:hover {
            background: #6a1b9a;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .btn::before {
            margin-right: 8px;
            font-size: 1.1em;
        }

        .btn-download::before {
            content: "‚¨áÔ∏è";
        }

        .btn-subscribe::before {
            content: "üîó";
        }

        .btn-view-code::before {
            content: "üëÅÔ∏è";
        }

        /* === URL-BOX === */
        .url-box {
            background: #fff3e0;
            padding: 15px;
            border-radius: 6px;
            margin-top: 15px;
            border-left: 4px solid #ff9800;
        }

        .url-box p {
            font-size: 0.9em;
            color: #e65100;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .url-display {
            background: white;
            padding: 10px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            word-break: break-all;
            color: #333;
            border: 1px solid #ffb74d;
        }

        /* === MODAL-F√ñNSTER === */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.6);
            animation: fadeIn 0.3s ease;
        }

        .modal.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 0;
            border-radius: 12px;
            width: 90%;
            max-width: 800px;
            max-height: 85vh;
            overflow: hidden;
            animation: slideDown 0.3s ease;
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.3);
        }

        @keyframes slideDown {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            background: linear-gradient(135deg, #004d40 0%, #00695c 100%);
            color: white;
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            margin: 0;
            font-size: 1.5em;
        }

        .modal-close {
            color: white;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            background: none;
            border: none;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            color: #ffeb3b;
            transform: scale(1.2);
        }

        .modal-body {
            padding: 30px;
            overflow-y: auto;
            max-height: calc(85vh - 80px);
        }

        .modal-body h3 {
            color: #004d40;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .modal-body h3:first-child {
            margin-top: 0;
        }

        .modal-body p {
            color: #555;
            line-height: 1.7;
            margin-bottom: 15px;
        }

        .modal-body ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .modal-body li {
            color: #555;
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .modal-body code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #d32f2f;
        }

        .modal-body pre {
            background: #263238;
            color: #aed581;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            line-height: 1.5;
            margin: 15px 0;
        }

        /* Code viewer specifik stil */
        .code-viewer {
            background: #263238;
            color: #aed581;
            padding: 20px;
            border-radius: 6px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.8em;
            line-height: 1.5;
            max-height: 500px;
            overflow-y: auto;
        }

        /* === INSTRUKTIONSSEKTION === */
        .instructions {
            background: #e3f2fd;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #1976d2;
        }

        .instructions h2 {
            color: #0d47a1;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .instructions ol {
            margin-left: 20px;
            color: #1565c0;
        }

        .instructions li {
            margin-bottom: 12px;
            line-height: 1.7;
        }

        .instructions strong {
            color: #0d47a1;
        }

        /* === INFORMATIONSSEKTION === */
        .info-section {
            background: #fff9c4;
            padding: 25px;
            border-radius: 8px;
            border-left: 4px solid #f9a825;
        }

        .info-section h2 {
            color: #f57f17;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .info-section h3 {
            color: #f57f17;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .info-section p {
            color: #6d4c00;
            margin-bottom: 10px;
            line-height: 1.7;
        }

        /* === FOOTER === */
        footer {
            background: #f5f5f5;
            padding: 20px 30px;
            text-align: center;
            color: #666;
            border-top: 1px solid #e0e0e0;
        }

        footer p {
            font-size: 0.9em;
        }

        /* === RESPONSIV DESIGN === */
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }

            header h1 {
                font-size: 1.6em;
            }

            header p {
                font-size: 1em;
            }

            .content {
                padding: 20px 15px;
            }

            .button-group {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }

            .tech-info-btn {
                position: static;
                margin-top: 15px;
                display: inline-block;
            }

            .modal-content {
                width: 95%;
                margin: 10% auto;
            }

            .modal-body {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- CONTAINER F√ñR HELA SIDAN -->
    <div class="container">
        
        <!-- HEADER MED TITEL -->
        <header>
            <button class="tech-info-btn" onclick="openTechModal()">‚ÑπÔ∏è Teknisk information</button>
            <h1>üèõÔ∏è Budgetprocess Simrishamn</h1>
            <p>Kalender f√∂r budgetprocessen 2026‚Äì2027</p>
        </header>

        <!-- HUVUDINNEH√ÖLL -->
        <div class="content">
            
            <!-- INTRODUKTION -->
            <div class="intro">
                <p>
                    <strong>V√§lkommen!</strong> H√§r hittar du kalenderfiler (.ics) f√∂r hela budgetprocessen 
                    i Simrishamns kommun. Du kan antingen ladda ner filerna f√∂r eng√•ngsimport, 
                    eller prenumerera via URL f√∂r att f√• automatiska uppdateringar n√§r kalendern √§ndras.
                </p>
            </div>

            <!-- PDF-SEKTION -->
            <div class="pdf-section">
                <h2>üìã Budgetanvisningar och tidplan</h2>
                <p>
                    H√§r finns det fullst√§ndiga dokumentet med alla uppgifter om tidplan och anvisningar 
                    f√∂r budget 2027‚Äì2031. Detta √§r k√§lldokumentet som kalenderfilerna √§r baserade p√•.
                </p>
                <a href="https://github.com/lundgren9/budgetprocess_2026/blob/main/budgetanvisningar.pdf" 
                   target="_blank" 
                   class="pdf-link">
                    √ñppna budgetanvisningar.pdf
                </a>
            </div>

            <!-- INSTRUKTIONER F√ñR OUTLOOK -->
            <div class="instructions">
                <h2>üìñ S√• h√§r anv√§nder du kalendern i Outlook</h2>
                <ol>
                    <li>
                        <strong>Ladda ner och importera (eng√•ngsimport):</strong>
                        <ul style="margin-top: 8px; margin-left: 20px;">
                            <li>Klicka p√• "Ladda ner kalenderfil"</li>
                            <li>√ñppna filen i Outlook (dubbelklicka p√• den)</li>
                            <li>Posterna l√§ggs till i din kalender</li>
                            <li><em>OBS: Uppdateras INTE automatiskt</em></li>
                        </ul>
                    </li>
                    <li>
                        <strong>Prenumerera via URL (rekommenderas f√∂r NY-version):</strong>
                        <ul style="margin-top: 8px; margin-left: 20px;">
                            <li>Kopiera URL:en fr√•n "Kopiera prenumerations-URL"</li>
                            <li>I Outlook: <em>Arkiv ‚Üí Kontoinst√§llningar ‚Üí Internetkalendrar ‚Üí Ny...</em></li>
                            <li>Klistra in URL:en och klicka OK</li>
                            <li><em>‚úÖ Uppdateras automatiskt n√§r vi √§ndrar kalendern!</em></li>
                        </ul>
                    </li>
                </ol>
            </div>

            <!-- KALENDERSEKTION -->
            <section class="calendar-section">
                
                <!-- KALENDERFIL 1 - URSPRUNGLIG -->
                <div class="calendar-card">
                    <h3>Budgetprocess 2026 (ursprunglig version)</h3>
                    <p>
                        Denna kalender inneh√•ller alla viktiga datum f√∂r budgetprocessen 2026: 
                        uppstart, budgetberedning, deadlines f√∂r investerings- och driftbudget, 
                        MBL-f√∂rhandlingar och kommunfullm√§ktiges beslut.
                    </p>
                    
                    <!-- Varning om att prenumeration inte fungerar -->
                    <div class="warning-note">
                        <p>
                            <strong>‚ö†Ô∏è OBS:</strong> Prenumeration via URL fungerar INTE f√∂r denna version 
                            eftersom filen saknar obligatoriska UID-f√§lt och korrekt tidszonsinformation 
                            som kr√§vs f√∂r kalenderprenumerationer. Anv√§nd ist√§llet den f√∂rb√§ttrade 
                            NY-versionen nedan f√∂r prenumerationsfunktionalitet.
                        </p>
                    </div>
                    
                    <div class="button-group">
                        <a href="budgetprocess_2026.ics" class="btn btn-download" download>
                            Ladda ner kalenderfil
                        </a>
                        <button class="btn btn-view-code" onclick="viewICSCode('budgetprocess_2026.ics')">
                            Visa inneh√•ll/kod
                        </button>
                    </div>
                </div>

                <!-- KALENDERFIL 2 - NY F√ñRB√ÑTTRAD -->
                <div class="calendar-card">
                    <h3>Budgetprocess 2026 NY (uppdaterad version) ‚≠ê</h3>
                    <p>
                        <strong>Rekommenderad version!</strong> Uppdaterad kalender som √§ven inneh√•ller 
                        informationsposter om kommunens √∂vergripande m√•l, prioriterade fokusomr√•den 
                        f√∂r 2027 samt deadline f√∂r n√§mndernas internbudget (31 januari 2027).
                        <br><br>
                        <strong>F√∂rb√§ttringar:</strong> Inneh√•ller UID-f√§lt, korrekt tidszonsinformation 
                        och andra tekniska f√∂rb√§ttringar som g√∂r att prenumeration via URL fungerar perfekt!
                    </p>
                    
                    <div class="button-group">
                        <a href="budgetprocess_2026_NY.ics" class="btn btn-download" download>
                            Ladda ner kalenderfil
                        </a>
                        <button class="btn btn-subscribe" onclick="copyToClipboard('url2')">
                            Kopiera prenumerations-URL
                        </button>
                        <button class="btn btn-view-code" onclick="viewICSCode('budgetprocess_2026_NY.ics')">
                            Visa inneh√•ll/kod
                        </button>
                    </div>
                    
                    <div class="url-box" id="url2-box" style="display: none;">
                        <p>‚úÖ URL kopierad! Anv√§nd denna i Outlook:</p>
                        <div class="url-display" id="url2">
                            https://raw.githubusercontent.com/lundgren9/budgetprocess_2026/main/budgetprocess_2026_NY.ics
                        </div>
                    </div>
                </div>
            </section>

            <!-- INFORMATION OM INNEH√ÖLL -->
            <div class="info-section">
                <h2>‚ÑπÔ∏è Vad inneh√•ller filerna?</h2>
                
                <h3>üìã Budgetprocess 2026 (ursprunglig)</h3>
                <p>
                    Inneh√•ller alla formella datum i budgetprocessen fr√•n mars 2026 till januari 2027, 
                    inklusive budgetberedningens m√∂ten, n√§mndernas deadlines, och kommunfullm√§ktiges beslut.
                </p>

                <h3>‚≠ê Budgetprocess 2026 NY (uppdaterad - rekommenderas)</h3>
                <p>
                    <strong>Denna version rekommenderas!</strong> Inneh√•ller samma information som 
                    originalversionen PLUS:
                </p>
                <ul style="margin-left: 20px; color: #6d4c00;">
                    <li>Beslut om prioriterade fokusomr√•den (december 2025)</li>
                    <li>Information om kommunens h√•llbarhetspolicy och fokusomr√•den</li>
                    <li>Deadline f√∂r n√§mndernas fastst√§llande av internbudget (31 januari 2027)</li>
                    <li>Ut√∂kade beskrivningar f√∂r b√§ttre f√∂rst√•else av varje aktivitet</li>
                    <li>UID-f√§lt f√∂r varje h√§ndelse (kr√§vs f√∂r prenumeration)</li>
                    <li>Korrekt tidszonsinformation (Europe/Stockholm)</li>
                    <li>DTSTAMP-f√§lt (tidsst√§mpel f√∂r varje h√§ndelse)</li>
                </ul>

                <h3>üéØ Viktiga fokusomr√•den f√∂r 2027</h3>
                <p>Kommunfullm√§ktige har beslutat om f√∂ljande prioriterade fokusomr√•den:</p>
                <ul style="margin-left: 20px; color: #6d4c00;">
                    <li><strong>Fokusomr√•de 1:</strong> H√•llbarhet i n√§ringsliv och arbetsmarknad</li>
                    <li><strong>Fokusomr√•de 9:</strong> Klimatanpassning</li>
                    <li><strong>Fokusomr√•de 11:</strong> Trygghet och samh√§llsgemenskap</li>
                    <li><strong>Fokusomr√•de 13:</strong> H√•llbar kultur, fritid, friluftsliv och turism</li>
                    <li><strong>Fokusomr√•de 17:</strong> Partnerskap och samverkan</li>
                </ul>
            </div>
        </div>

        <!-- FOOTER -->
        <footer>
            <p>üìß Fr√•gor? Kontakta </p>
            <p style="margin-top: 10px; font-size: 0.85em;">
                Senast uppdaterad: December 2025
            </p>
        </footer>
    </div>

    <!-- MODAL F√ñR VISNING AV ICS-KOD -->
    <div id="codeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="codeModalTitle">Filinneh√•ll</h2>
                <button class="modal-close" onclick="closeCodeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <p style="margin-bottom: 15px;">Detta √§r det r√•a inneh√•llet i ICS-kalenderfilen. Du kan kopiera detta om du vill redigera filen manuellt.</p>
                <pre id="codeContent" class="code-viewer">Laddar inneh√•ll...</pre>
            </div>
        </div>
    </div>

    <!-- MODAL F√ñR TEKNISK INFORMATION -->
    <div id="techModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üîß Teknisk information</h2>
                <button class="modal-close" onclick="closeTechModal()">&times;</button>
            </div>
            <div class="modal-body">
                <h3>üìÑ Om denna webbsida (index.html)</h3>
                <p>
                    Denna webbsida √§r byggd med modern webbteknik och f√∂ljer best practices f√∂r 
                    anv√§ndarupplevelse och tillg√§nglighet.
                </p>
                
                <h4 style="color: #00695c; margin-top: 15px;">Teknologier som anv√§nds:</h4>
                <ul>
                    <li><strong>HTML5:</strong> Semantisk markup med element som &lt;header&gt;, &lt;section&gt;, &lt;footer&gt;</li>
                    <li><strong>CSS3:</strong> Modern styling med flexbox, gradienter, animationer och responsiv design</li>
                    <li><strong>JavaScript (Vanilla):</strong> Interaktivitet utan externa bibliotek - fetch API f√∂r att h√§mta filinneh√•ll, Clipboard API f√∂r att kopiera URL:er, DOM-manipulation f√∂r modaler</li>
                    <li><strong>Responsiv design:</strong> Fungerar p√• desktop, surfplatta och mobil med media queries</li>
                </ul>

                <h4 style="color: #00695c; margin-top: 15px;">Funktioner:</h4>
                <ul>
                    <li>Dynamisk h√§mtning av ICS-filinneh√•ll fr√•n GitHub Raw</li>
                    <li>Modal-f√∂nster f√∂r att visa kod och teknisk information</li>
                    <li>Kopiering av prenumerations-URL:er till urklipp</li>
                    <li>Smooth scrolling och CSS-animationer</li>
                    <li>Tillg√§nglig och semantisk HTML-struktur</li>
                </ul>

                <h3 style="margin-top: 30px;">üìÖ Om ICS-kalenderfiler</h3>
                <p>
                    ICS (iCalendar) √§r ett standardformat f√∂r kalenderdata som anv√§nds av alla 
                    moderna kalenderprogram inklusive Outlook, Google Calendar, Apple Calendar m.fl.
                </p>

                <h4 style="color: #00695c; margin-top: 15px;">Vad g√∂r en ICS-fil "prenumerationsbar"?</h4>
                <p>
                    F√∂r att en ICS-fil ska fungera med kalenderprenumeration (s√• att den uppdateras 
                    automatiskt) m√•ste den inneh√•lla vissa obligatoriska f√§lt:
                </p>
                <ul>
                    <li>
                        <strong>UID (Unique Identifier):</strong> Varje h√§ndelse M√ÖSTE ha ett unikt ID. 
                        Detta g√∂r att kalenderprogrammet kan identifiera och uppdatera specifika h√§ndelser.
                        <br>
                        Exempel: <code>UID:budgetprocess-2026-03-12-uppstart@simrishamn.se</code>
                    </li>
                    <li>
                        <strong>DTSTAMP (Date-Time Stamp):</strong> Tidsst√§mpel f√∂r n√§r h√§ndelsen skapades/√§ndrades.
                        <br>
                        Exempel: <code>DTSTAMP:20251208T120000Z</code>
                    </li>
                    <li>
                        <strong>VTIMEZONE:</strong> Tidszonsinformation f√∂r korrekt visning av tider.
                        <br>
                        Exempel: <code>TZID:Europe/Stockholm</code>
                    </li>
                    <li>
                        <strong>METHOD:PUBLISH:</strong> Indikerar att kalendern √§r publicerad och kan prenumereras p√•
                    </li>
                </ul>

                <h4 style="color: #00695c; margin-top: 15px;">Varf√∂r den ursprungliga filen inte fungerar f√∂r prenumeration:</h4>
                <p>
                    Den ursprungliga <code>budgetprocess_2026.ics</code> saknar UID-f√§lt f√∂r varje h√§ndelse 
                    och har ingen VTIMEZONE-definition. Detta g√∂r att Outlook och andra kalenderprogramm 
                    inte kan hantera filen korrekt vid prenumeration - h√§ndelserna visas helt enkelt inte.
                </p>

                <h4 style="color: #00695c; margin-top: 15px;">F√∂rb√§ttringar i NY-versionen:</h4>
                <p>
                    <code>budgetprocess_2026_NY.ics</code> inneh√•ller alla n√∂dv√§ndiga f√§lt:
                </p>
                <pre style="background: #263238; color: #aed581; padding: 15px; border-radius: 6px; overflow-x: auto; font-size: 0.85em;">BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Simrishamns kommun//Budgetprocess 2026-2027//SV
METHOD:PUBLISH
X-WR-CALNAME:Budgetprocess Simrishamn 2026-2027
X-WR-TIMEZONE:Europe/Stockholm

BEGIN:VTIMEZONE
TZID:Europe/Stockholm
...
END:VTIMEZONE

BEGIN:VEVENT
UID:budgetprocess-2026-03-12-uppstart@simrishamn.se
DTSTAMP:20251208T120000Z
DTSTART;TZID=Europe/Stockholm:20260312T080000
DTEND;TZID=Europe/Stockholm:20260312T120000
SUMMARY:Uppstart med budgeten 2027
DESCRIPTION:Halvdag. Genomg√•ng av tidplan...
LOCATION:Kommunhuset
STATUS:CONFIRMED
END:VEVENT
...
END:VCALENDAR</pre>

                <h3 style="margin-top: 30px;">üîó GitHub Raw URL</h3>
                <p>
                    F√∂r att kalenderprogramm ska kunna prenumerera p√• en fil fr√•n GitHub, m√•ste vi 
                    anv√§nda "Raw"-URL:en, inte den vanliga GitHub-sidans URL.
                </p>
                <ul>
                    <li>
                        <strong>Fel:</strong> <code>github.com/lundgren9/budgetprocess_2026/...</code>
                        <br>
                        <em>Detta ger HTML-sidan med GitHub:s gr√§nssnitt</em>
                    </li>
                    <li>
                        <strong>R√§tt:</strong> <code>raw.githubusercontent.com/lundgren9/...</code>
                        <br>
                        <em>Detta ger r√• filinneh√•llet som kalenderprogrammet kan l√§sa</em>
                    </li>
                </ul>

                <h3 style="margin-top: 30px;">üë®‚Äçüíª Utvecklad med AI-assistans</h3>
                <p>
                    Denna webbsida och den f√∂rb√§ttrade ICS-filen har skapats med hj√§lp av Claude (Anthropic) 
                    f√∂r att demonstrera hur modern AI kan hj√§lpa till med teknisk dokumentation, 
                    webbutveckling och dataformatering.
                </p>
            </div>
        </div>
    </div>

    <!-- JAVASCRIPT F√ñR FUNKTIONALITET -->
    <script>
        /**
         * Kopierar URL till urklipp och visar den p√• sidan
         * Anv√§nds f√∂r att kopiera prenumerations-URL:er
         * @param {string} urlId - ID f√∂r elementet som inneh√•ller URL:en
         */
        function copyToClipboard(urlId) {
            // H√§mta URL-texten fr√•n elementet med angivet ID
            const urlElement = document.getElementById(urlId);
            const url = urlElement.textContent;
            
            // Kopiera URL:en till urklipp med hj√§lp av Clipboard API
            navigator.clipboard.writeText(url).then(function() {
                // Om kopieringen lyckades, visa URL-boxen
                const urlBox = document.getElementById(urlId + '-box');
                urlBox.style.display = 'block';
                
                // Skrolla mjukt ner till URL-boxen s√• anv√§ndaren ser den
                urlBox.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                
                // D√∂lj URL-boxen automatiskt efter 10 sekunder
                setTimeout(function() {
                    urlBox.style.display = 'none';
                }, 10000);
                
            }).catch(function(err) {
                // Om kopieringen misslyckades, visa ett felmeddelande
                alert('Kunde inte kopiera URL:en. F√∂rs√∂k igen eller kopiera manuellt.');
                console.error('Fel vid kopiering:', err);
            });
        }

        /**
         * H√§mtar och visar inneh√•llet i en ICS-fil i en modal
         * Anv√§nder GitHub Raw URL f√∂r att h√§mta filinneh√•llet
         * @param {string} filename - Namnet p√• ICS-filen att visa
         */
        function viewICSCode(filename) {
            // √ñppna modalen och visa laddningsmeddelande
            const modal = document.getElementById('codeModal');
            const titleElement = document.getElementById('codeModalTitle');
            const codeContent = document.getElementById('codeContent');
            
            // S√§tt titel baserat p√• filnamn
            titleElement.textContent = 'Inneh√•ll: ' + filename;
            codeContent.textContent = 'H√§mtar filinneh√•ll fr√•n GitHub...';
            
            // Visa modalen
            modal.classList.add('active');
            
            // Bygg GitHub Raw URL baserat p√• filnamn
            const rawUrl = 'https://raw.githubusercontent.com/lundgren9/budgetprocess_2026/main/' + filename;
            
            // H√§mta filinneh√•llet fr√•n GitHub med fetch API
            fetch(rawUrl)
                .then(response => {
                    // Kontrollera att svaret √§r OK
                    if (!response.ok) {
                        throw new Error('Kunde inte h√§mta filen: ' + response.statusText);
                    }
                    return response.text();
                })
                .then(data => {
                    // Visa filinneh√•llet i modalen
                    codeContent.textContent = data;
                })
                .catch(error => {
                    // Visa felmeddelande om n√•got gick fel
                    codeContent.textContent = 'Fel vid h√§mtning av fil:\n\n' + error.message + 
                        '\n\nKontrollera att filen finns p√• GitHub och att du har internetanslutning.';
                    console.error('Fetch error:', error);
                });
        }

        /**
         * St√§nger modal-f√∂nstret f√∂r kodvisning
         */
        function closeCodeModal() {
            const modal = document.getElementById('codeModal');
            modal.classList.remove('active');
        }

        /**
         * √ñppnar modal-f√∂nstret f√∂r teknisk information
         */
        function openTechModal() {
            const modal = document.getElementById('techModal');
            modal.classList.add('active');
        }

        /**
         * St√§nger modal-f√∂nstret f√∂r teknisk information
         */
        function closeTechModal() {
            const modal = document.getElementById('techModal');
            modal.classList.remove('active');
        }

        /**
         * St√§ng modaler n√§r anv√§ndaren klickar utanf√∂r modal-inneh√•llet
         */
        window.onclick = function(event) {
            const codeModal = document.getElementById('codeModal');
            const techModal = document.getElementById('techModal');
            
            if (event.target === codeModal) {
                closeCodeModal();
            }
            if (event.target === techModal) {
                closeTechModal();
            }
        }

        /**
         * St√§ng modaler med Escape-tangenten
         */
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeCodeModal();
                closeTechModal();
            }
        });
    </script>
</body>
</html>


